---
title: "RStudio Github Analysis"
subtitle: "What the Git is going on here?"
author: "Juno Chen, Ian Flores, Rayce Rossum, Richie Zitomer"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(xaringanthemer)
```

background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")
class: inverse, center, middle

# Overview

---
## Background - Git

.pull-left[
The most widely used modern version control system in the world

Designed with **performance**, **security** and **flexibility** in mind...
]

---
## Background - Git

.pull-left[
The most widely used modern version control system in the world

Designed with **performance**, **security** and **flexibility** in mind...

but not **ease of use**.
]

.pull-right[
![xkcd-git](https://imgs.xkcd.com/comics/git.png)
]
---
## Our Partner's Idea

- Download data from several thousand large projects on GitHub.

--

- Use your favorite statistical (machine learning) techniques to identify patterns in those repositories’ branch-and-merge graphs.

--

- Select a small set of common subgraphs that account for a large fraction of everyday use.

--

- Build a tool that provides those, and only those, to users. 

--

- **Profit.** Well, fame. OK, will you settle for having made the world a better place?

.footnote[
Source: [third-bit.com - Greg's Blog](http://third-bit.com/2017/09/30/git-graphs-and-engineering.html)
]

---
class: inverse, center, middle
background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")

# Objectives

---
class: inverse, center, middle

## Question 1

### Are there identifiable workflow patterns in the way people use git?

---
class: inverse, center, middle

## Question 2

### What are common subgraphs that account for a large fraction of everyday use?

---
class: inverse, center, middle
background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")

# Current Work

---

## Graph2Vec Overview

- Consider Graph2Vec analogous to Doc2Vec.

Graph2vec: a neural embedding framework named to learn data-driven distributed representations of arbitrary sized graphs.
- Sampling and relabeling all sub-graphs from the graph
- Training the skip-gram model
- Computing embeddings

---

## Algorithm Overview (Continued)

- Motif: subgraphs within network, defined by a particular pattern of interactions between vertices.

---

## Justifications

NLP similarity

---

## Limitations

- Squashing

- Public (Only things that make it to github)

---

## Findings

Using Graph2Vec to generate embeddings, we used T-SNE to reduce the dimensionality and look for visible clusters in our data.

--

Image

--

- Finding motifs involves pick a random node, then performing a breadth-first search on the first k nodes after that.

--

- Below is an example of a length-25 motif generated from a GitHub project.

![motif_length_25](motif_example.png)

---

## Justifications

NLP similarity - Graph2vec is based on the idea of the doc2vec approach.

Word2vec: uses skipgram to learn embeddings of words (as node in graph theory)

Doc2vec: a forward extension to word2vec, learns embeddings of word sequences (as the sequence of node and vertices in graph theory)

---

## Limitations

- Squashing
- Public (Only things that make it to github)
- GHTorrent data cleanliness and availability

---

## Data Overview

- image for Commit density plot
- image for Author density plot

Of the 36.4 million projects that GitHub Torrent has information on...
- 19.03 million projects, or 52.29%, have more than one commit.
- 5.19 million project, or 14.27%, have more than one author contributing commits.

---

## Findings

Using Graph2Vec to generate embeddings, we used T-SNE to reduce the dimensionality and look for visible clusters in our data.

--

Refer backwards to the data overview, some are not "interesting".

--

Image (cluster comparison, heatmap?)

--

Are there identifiable workflow patterns in the way people use git?

--

Yes

--

Are they useful? Not really, they're mostly just git init's...

---
## Clustered Projects with Similar Graph Types 

![](tsne_clusters.png)

---
## Projects with Similar Numbers of Commits are Clustered Together

![](tsne_more_than_10.png)

---
## Projects with Similar Numbers of Commits are Clustered Together

![](tsne_more_than_100.png)

---
HEATMAP, etc.
As a result, we are only looking at projects with more than 100 commits.
---

## Findings

What are common subgraphs that account for a large fraction of everyday use?

- Motif overview for all projects
- Snippets from the report (motif freq for interesting clusters)
- Interesting stuff we found

---
## How does graph complexity relate to usage of GitHub features like issues, pull requests, and code reviews?
- Note: High Complexity = More Branching and Merging
- As you can see below, GitHub projects with more complex graphs have more issues, pull requests, and code reviews than projects with simpler graphs.

![by_complexity](GH_features_by_complexity.png)

---
Why do more complex graphs have more GitHub Features?

- Having many branches lead to more complex graphs and are likely also related to the need for more pull requests, issues, etc.

- Potential confounder that causes this effect: expertise.
    - Expert GitHub users are more likely to branch and merge, AND are more likely to make issues, pull requests, etc.
    - Hard to directly measure expertise. Looked at project owner's age since joining GitHub, couldn't find a relationship.

- Potential confounder that causes this effect: number of authors (more on next slides).

---
## Unsuprisingly, Projects with Higher Graph Complexity Have More Authors

![author_by_complexity](GH_authors_by_complexity.png)

---
# Graph Complexity by GitHub Usage, Controlling for Authors
![](GH_features_by_complexity_by_author.png)

---
## NEEDS WORK Does more complexity always equate to higher usage of GitHub features?

Is there such a thing as branching too much? 

![](commit_chain_by_issues.png)


---

class: inverse, center, middle
background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")

# Recommendations
---
- Study the causal relationship between GitHub feature usage and graph complexity
- Given the relationship between complexity and GitHub feature usage, a new tool should direct users to use the documentation features such as issues and PR reviews to maintain a long term structure.
- We can see a consistent percentage of language use in big projects between the largest 8 languages in our sample. This is indicative that a new tool should be language agnostic as users tend to follow patterns not guided by languages.
- We couldn’t find evidence of the use of Git Flow or other types of pre-established workflows. This doesn’t mean the patterns don’t exist, but they might not be as prevalent as thought before. A new tool should either give the option to users to strictly be forced to follow one of these pre-established workflows, or don’t consider them altogether.
- Most repositories have less than 50 authors, thus indicating that a new tool should maximize for the effectiviness of collaboration in small and medium projects and not for big projects.This is because tools like Git were created to optimize collaboration for projects  like the Linux Kernel, but the vast majority of projects are way smaller than the Kernel.
- Work backwards from very successful and large projects
- Take into account the time between commits
- Label graph nodes by author within motifs
- Exclude motifs at beginning and end of graph
- Find repos that claim to use Gitflow and see whether or not they’re fundementally different

---
class: inverse, center, middle
background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")

# Acknowledgments

RStudio - Greg Wilson
    
UBC-MDS Teaching Team - Tiffany Timbers

---
class: inverse, center, middle
background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")

# Thank you   
---
class: inverse, center, middle
background-image: url("http://avante.biz/wp-content/uploads/2017/04/Computer-Science-Wallpapers-001.jpg")

# Questions?
---
